{"name":"Create the Critical Injuries Table","permission":{"default":0,"6CCGnEQyToQj7t5R":3},"type":"script","flags":{"core":{"sourceId":"Macro.2iCVf5V9ipKckml2"}},"scope":"global","command":"let critdamagevalues = [];\nawait game.packs.get(\"world.critical-injuries\").getContent().then(data => {critdamagevalues = Array.from(data)\n});\n\nlet sorted = critdamagevalues.sort((a,b) => { return a.data.data.min < b.data.data.min ? -1 : a.data.data.min > b.data.data.min ? 1 : 0});\n\nlet rollresults = sorted.map(item => { return { type: 1, img: item.data.img, collection: \"Item\", weight: 1, range: [item.data.data.min, item.data.data.max], resultId: item.data._id, text: item.data.name }});\n\nRollTable.create({ name: \"Critical Injuries\", results: rollresults, formula: \"1d100\" });","author":"6CCGnEQyToQj7t5R","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"7u4oabbcCdek1vZ3"}